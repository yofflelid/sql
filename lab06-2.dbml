// mylibrary 데이터 베이스에 대한 bndbml 

//연습문제 
//sql lab 01 교안 myschool 테이블 명세서 erd 작성 






table departments {
    id int [pk, increment, note: "학과번호"]
    dname varchar(100) [not null, note:"학과명"]
    loc varchar(100) [not null, note:"위치"]
    phone varchar(15) [not null, note:"전화번호"]
    email varchar(100) [not null, note:"이메일 주소"]
    established int [not null, note:"설립 연도"]
    homepage varchar(255) [note:"홈페이지 주소"]
}




table professors {
    id int               [pk, increment, note: "교수번호"]
    name varchar(50)     [not null, note: "이름"]
    user_id varchar(50) [not null, note: "아이디"]
    position professor_position [not null, note: "직급"]
    sal int              [not null, note: "급여"]
    hiredate datetime   [not null, note: "입사일"]
    comm int             [note:"보직수당"]
    email varchar(100) [note: "이메일 주소"]
    phone varchar(15) [note: "전화번호"]
    photho_url varchar(255) [note: "프로필 사진 URL"]
    status professor_status [not null, note: "재직 상태" ]
    department_id int [not null, note: "소속 학과번호" , ref: > departments.id]
}

Enum professor_position {
  A [note: "교수"]
  B [note: "부교수"]
  C [note: "조교수"]
  D [note: "전임강사"]
}


Enum professor_status{
  A [note: "재직"]
  B [note: "휴가"]
  C [note: "퇴직"]
}



table students {
    studno int [pk, increment, note: "학생번호"]
    name varchar(50) [not null, note: "이름"]
    userid varchar(50) [not null, note: "아이디"]
    grade int [not null, note: "학년"]
    idnum char(64) [not null, note: "주민등록번호(SHA2해시)"]
    birthdate datetime [not null, note: "생년월일"]
    phone varchar(13) [not null, note: "전화번호"]
    height int [not null, note: "키"]
    weight int [not null, note: "몸무게"]
    email varchar(100) [note: "이메일 주소"]
    gender student_gender [note:"성별"]
    status student_status [note: "학적 상태"]
    photo_url varchar(255) [note: "프로필 사진 경로"]
    admissio_date date [note: "입학일"]
    graduation_date date [note: "졸업일"]
    department_id int [not null, note: "소속 학과번호"]
    professor_id int [note: "지도교수 번호"]
}

Enum student_gender {
  A [note: "여"]
  B [note: "남"]
}

Enum student_status {
  A [note: "재학"]
  B [note: "휴학"]
  C [note: "졸업"]
  D [note: "퇴학"]
}




table subjects {
    id int [pk, increment, note: "과목번호"]
    name varchar(100) [not null, note: "과목명"]
    credit int [not null, note: "학점"]
    department_id int [not null, note: "개설 학과", ref: > departments.id]
    professors_id int [note: "담당교수",ref: > professors.id]
}

table enrollments {
    student_id int [pk, note: "학생번호"]
    subject_id int [pk, note: "과목번호"]
    enroll_date date [not null, note: "수강신청일"]
    score int [note: "성적 점수(100점 만점)"]
}







